# Task Validation Bundle

- Change ID: `add-typora-wysiwyg-editor`
- Run: `#1` (`run-0001`)
- Task ID: `1.0`
- Ref ID: `R0`
- Scope: `GUI`

## Task

实现编辑模式开关并保留现有双栏模式。支持在“双栏模式 / WYSIWYG 模式”间切换，且切换前后的 Markdown 内容保持一致。

## How To Run

- macOS/Linux:
  - `bash auto_test_openspec/add-typora-wysiwyg-editor/run-0001__task-1.0__ref-R0__20260219T013847Z/run.sh`
- Windows:
  - `auto_test_openspec\add-typora-wysiwyg-editor\run-0001__task-1.0__ref-R0__20260219T013847Z\run.bat`

GUI hard rule applies: scripts are start-server-only and print access URL/port.

## Inputs / Outputs

- Inputs: none
- Outputs generated by run scripts: none (service startup only)
- Evidence artifacts to be captured by Supervisor during GUI validation:
  - screenshots under `outputs/screenshots/` (created by Supervisor if needed)
  - optional console/network exports under `logs/`

## GUI MCP Runbook

- Execute MCP-only runbook: `tests/gui_runbook_mode_toggle.md`
- Do not use browser automation scripts outside MCP steps.

## Acceptance Criteria (Machine-Decidable Anchors)

- Server startup command exits only when manually stopped (long-running dev server expected).
- Console output contains URL with expected port (`http://127.0.0.1:33100/`).
- Via MCP runbook assertions:
  - can switch between `双栏模式` and `WYSIWYG 模式`
  - same Markdown text remains after round-trip switching
  - rendered heading/content stays consistent after mode switches
